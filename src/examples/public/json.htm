<!doctype html>  
<html>
  <head>  
    <meta charset="utf-8">  
    <title>Sextant example - no JSON</title>  
    <meta name="description" content="Example of Sextant - Simple borwser navigation manipulation">  
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.3/jquery.min.js"></script>
    <script src="../sextant.js"></script>
    <script>
  
        Sextant(
            // locate the state from the page url
            function (url) {
                var state = url.split("#")[1] - 0; // coerce into number with no risk of concatination
                return SextantPage(state, "Page " + state, "#" + state); // the current page based on the url
            },
            // update the page from the state
            function (state) {
                console.log("I've been clicked! Page " + state);
                $("#pageno").html("Page: " + state)
            },
            // trigger hashchange event 
            true
        );

        $(document).ready(function() {
            $("a").clickToJSON(
                // get the JSON url from the state
                function (state) {
                    return "/test/" + state;
                },
                // get the page from the returned JSON
                function (json) {
                    return SextantPage(json.next, "Page " + json.next, "#" + json.next);
                },
                function () {
                }

            );
        });
    </script>
  </head>  
    
  <body>  
      <a id="pusher" href="#">Push history</a>
      <p id="pageno"></p>
  </body>  
</html>  
